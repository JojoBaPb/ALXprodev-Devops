#!/bin/bash

# Define API endpoint
API_URL="https://pokeapi.co/api/v2/pokemon/pikachu"

# Make the API request using curl
response=$(curl -s -w "%{http_code}" -o data.json "$API_URL")

# Extract HTTP status code (last 3 digits)
http_status="${response: -3}"

# Check if request was successful (status code 200)
if [ "$http_status" -ne 200 ]; then
    echo "[$(date)] Failed to fetch Pikachu data. Status code: $http_status" >> errors.txt
    rm -f data.json  # Delete invalid data file if exists
fi
